# natty-fetch

[![npm version](https://img.shields.io/npm/v/natty-fetch.svg?style=flat)](https://www.npmjs.com/package/natty-fetch) [![download](https://img.shields.io/npm/dm/natty-fetch.svg?style=flat)](https://www.npmjs.com/package/natty-fetch) [![license](https://img.shields.io/badge/license-MIT-blue.svg?style=flat)](https://raw.githubusercontent.com/jias/natty-fetch/master/LICENSE)

A natty data-fetching tool for project that no longer needs to use jQuery/Zepto's Ajax.

> ğŸ» å¼€å‘è€…çš„ä½“éªŒè‡³å…³é‡è¦ï¼`natty`ç³»åˆ—çš„å°å·¥å…·ï¼Œåœ¨å¾®å°çš„æŠ€æœ¯ç‚¹ä¸Šè¿½æ±‚æè‡´çš„å¼€å‘ä½“éªŒã€‚å¦‚æœå¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·è€ƒè™‘Starä¸€ä¸‹ã€‚


## ç‰¹ç‚¹

#### å¼ºå¤§çš„ç¼“å­˜

é¡¹ç›®ä¸­ç»å¸¸é‡åˆ°ä¸€äº›ç›¸å¯¹ç¨³å®šçš„æ•°æ®ï¼Œå¦‚çœå¸‚åˆ—è¡¨ã€å·®æ—…æ€§è´¨ã€ä»»åŠ¡ç±»åˆ«ã€å¸ç§ç±»åˆ«ç­‰ç­‰ã€‚è¿™äº›æ•°æ®é€šå¸¸æ ¹æ®ä¸šåŠ¡éœ€è¦æˆ–å®¢è§‚å˜åŒ–æ‰æ›´æ–°ä¸€æ¬¡ï¼Œè™½ç„¶æ›´æ–°æ…¢ï¼Œä½†åˆå¿…é¡»æ›´æ–°ã€‚åœ¨è¯·æ±‚è¿™äº›æ•°æ®æ—¶ï¼Œå¯ä»¥å€ŸåŠ©`natty-fetch`å¼ºå¤§çš„ç¼“å­˜(å¦‚ï¼šç¼“å­˜çš„ä¸‰ç§æœ‰æ•ˆæ€§åˆ¤æ–­ï¼Œç¼“å­˜çš„é™çº§å¤„ç†)ï¼Œåˆ†åˆ†é’Ÿå®Œæˆå¼‚æ­¥æ•°æ®çš„ç¼“å­˜å®ç°ã€‚

#### åç§°ç©ºé—´æ”¯æŒ

æˆ‘ä»¬åœ¨å¤§å‹é¡¹ç›®ä¸­ä¼šç»å¸¸ç¢°è§ä¸€ç§æƒ…å†µï¼Œä¸åŒçš„ä¸šåŠ¡æ¨¡å—æœ‰ç€å¾ˆå¤šéå¸¸ç›¸ä¼¼(ç”šè‡³ç›¸åŒ)çš„æ•°æ®æ¥å£ã€‚è¿™ç§çº§åˆ«çš„é¡¹ç›®ï¼Œå¦‚æœåœ¨ä¸€å¼€å§‹æ²¡æœ‰åšå¥½è¶³å¤Ÿçš„åç§°ç©ºé—´è§„åˆ’ï¼ŒåæœŸä¸€å®šä¼šé€æ­¥è¿›å…¥"å‘½åå†²çª"çš„å¤§å‘ã€‚`natty-fetch`ä¸“ä¸ºå¤§é¡¹ç›®è€Œç”Ÿï¼Œåœ¨[åç§°ç©ºé—´](https://github.com/jias/natty-fetch/blob/master/docs/clear_api.md)æ–¹é¢åšè¶³äº†è®¾è®¡ï¼Œå±‚çº§ä¸é™ï¼Œä¹¦å†™çµæ´»ï¼Œä½¿ç”¨è€…åªéœ€å…³å¿ƒå¦‚ä½•è§„åˆ’å³å¯ã€‚

> å¾ˆå¤šè€é¡¹ç›®ï¼Œå„ç§åŸå› ï¼Œç»å†è¿‡å¤šä¸ªå›¢é˜Ÿçš„å¼€å‘ï¼Œåç»­çš„æ¥æ‰‹äººï¼Œè¦ä¹ˆæ¢³ç†å¾—å¾ˆè¾›è‹¦ï¼Œè¦ä¹ˆä»¥æ›´ç‰¹æ®Šçš„å‘½åæ–¹å¼ç»§ç»­å †æ¥å£...ï¼Œåæ§½æ˜¯ä¸è§£å†³é—®é¢˜çš„ï¼Œ`natty-fetch`èµ°èµ·å§ï¼

#### æ•°æ®é€‚é…çº¦å®š

æ— è®ºæ˜¯`XMLHttpRequest`ï¼Œè¿˜æ˜¯`fetch`ï¼Œä¸šåŠ¡é€»è¾‘çš„é”™è¯¯éƒ½æ˜¯ä½œä¸ºæˆåŠŸå“åº”(`response`)çš„æ•°æ®ä¸€èµ·è¿”å›çš„ï¼Œä½†é€šå¸¸æƒ…å†µæˆ‘ä»¬éœ€è¦å°†è¿™ç§é”™è¯¯ä»`response`ä¸­åˆ†ç¦»å‡ºæ¥ï¼Œè¿›è€Œ`reject`è¿™æ¬¡è¯·æ±‚ã€‚è¿™æ˜¯ä¸€é¡¹é‡å¤çš„å·¥ä½œã€‚`natty-fetch`æŠŠè¿™ç§é‡å¤çš„å·¥ä½œæå–ä¸ºä¸€é¡¹é…ç½®ï¼Œå³æ•°æ®é€‚é…([`fit`](https://github.com/jias/natty-fetch/blob/master/docs/options.md#fit))ï¼Œè®©ä¸šåŠ¡é€»è¾‘é”™è¯¯ç›´æ¥èµ°å‘`reject`ï¼Œè¿›è€Œ`resolve`æ‹¿åˆ°çš„æ•°æ®æ˜¯ä»£è¡¨ä¸šåŠ¡é€»è¾‘æˆåŠŸçš„æ•°æ®ï¼Œæ— éœ€åˆ¤æ–­ï¼Œç›´æ¥å¯ç”¨ã€‚

> ä¸šåŠ¡é€»è¾‘é”™è¯¯çš„ä¸¾ä¾‹ï¼š"æ‚¨å·²æŠ•è¿‡ç¥¨å•¦ï¼Œä¸èƒ½é‡å¤æŠ•ç¥¨ï¼"ï¼Œ"æ‚¨çš„æ“ä½œæƒé™ä¸å¤Ÿï¼"

#### å¤šä¸Šä¸‹æ–‡æ”¯æŒ

å½“é¡¹ç›®éœ€è¦è°ƒç”¨å¤šä¸ªåå°ç³»ç»Ÿçš„æ•°æ®æ¥å£æ—¶ï¼Œæ¸…æ™°åœ°å®ç°å„è‡ªç³»ç»Ÿçš„é€šç”¨é…ç½®æ˜¯éå¸¸å¥½çš„ç¼–ç¨‹ä¹ æƒ¯(åˆ©äººåˆ©å·±)ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œå‡è®¾å…¶ä¸­ä¸€ä¸ªç³»ç»Ÿçš„æ‰€æœ‰æ¥å£éœ€è¦æ·»åŠ `token`å‚æ•°æ—¶ï¼Œåœ¨è¯¥ç³»ç»Ÿçš„ä¸Šä¸‹æ–‡é…ç½®ä¸­ä¿®æ”¹ä¸€å¤„å³å¯å®ç°ï¼Œæ˜¯å¤šä¹ˆæƒ¬æ„çš„äº‹æƒ…ã€‚ä¸ä»…å¦‚æ­¤ï¼Œ`natty-fetch`è¿˜æä¾›äº†[ä¸‰ä¸ªå±‚çº§çš„é…ç½®](https://github.com/jias/natty-fetch/blob/master/docs/option_levels.md)ï¼Œç”±ä¸Šè‡³ä¸‹åˆ†åˆ«æ˜¯å…¨å±€é…ç½®(`Global`)ï¼Œä¸Šä¸‹æ–‡é…ç½®(`Context`)å’Œæ¥å£é…ç½®(`API`)ï¼Œä¸Šæ¸¸é…ç½®ä½œä¸ºä¸‹æ¸¸é…ç½®çš„é»˜è®¤å€¼ï¼ŒåŒæ—¶åˆè¢«ä¸‹æ¸¸é…ç½®æ‰€è¦†ç›–ã€‚

#### æ’ä»¶æœºåˆ¶

ä¸€æ–¹é¢ï¼Œå€ŸåŠ©æ’ä»¶æœºåˆ¶ï¼Œå¯ä»¥å°†é¡¹ç›®ä¸­å·²ç»å­˜åœ¨çš„ä»»ä½•(æ˜¯çš„ï¼Œä¸ç®¡æœ‰å¤šå°‘ç§)æ•°æ®è·å–æ–¹æ¡ˆç»Ÿä¸€åŒ–ã€‚ç»Ÿä¸€åçš„åŸæœ‰æ–¹æ¡ˆç›´æ¥æ‹¥æœ‰"åç§°ç©ºé—´æ”¯æŒ"ã€"å¤šä¸Šä¸‹æ–‡æ”¯æŒ"ã€"æ•°æ®é€‚é…çº¦å®š"ã€"å¼ºå¤§çš„ç¼“å­˜"ç­‰`natty-fetch`ç‰¹è‰²åŠŸèƒ½ã€‚å¦ä¸€æ–¹é¢ï¼Œæ’ä»¶æœºåˆ¶ä¹Ÿå¯ä»¥ç”¨äºæ‰©å±•æ¥å£çš„ä½¿ç”¨æ–¹å¼ï¼Œæ¯”å¦‚å†…ç½®çš„[`loop`](https://github.com/jias/natty-fetch/blob/master/docs/options.md#loop)æ’ä»¶ï¼Œåªéœ€ä¸€è¡Œé…ç½®ï¼Œå°±å¯ä»¥å¿«é€Ÿè®©ä¸€ä¸ªæ¥å£æ‹¥æœ‰è½®è¯¢åŠŸèƒ½ã€‚

#### å…¼å®¹è‡³IE8

å¦‚æœé¡¹ç›®ä»…æ”¯æŒç°ä»£(`Modern`)æµè§ˆå™¨ï¼Œæ¨èä½¿ç”¨`natty-fetch.min.js`ã€‚å¦‚æœéœ€è¦å…¼å®¹åˆ°`IE8`ï¼Œåˆ™å¿…é¡»ä½¿ç”¨`natty-fetch.pc.min.js`å’Œ`Promise Polyfill`ã€‚

## v2.x docs

* [å®‰è£… (Installation)](docs/install.md)
* [ä½¿ç”¨æ¦‚è§ˆ-é¡¹ç›®çº§ (Start for Project)](docs/start_for_project.md)
* [ä½¿ç”¨æ¦‚è§ˆ-ç»„ä»¶çº§ (Start for Component)](docs/start_for_component.md)
* [é…ç½®å±‚çº§ (Option Levels)](docs/option_levels.md)
* [é…ç½®é€‰é¡¹ (Options)](docs/options.md)
* [ä½¿ç”¨çº¦å®š (Rules)](docs/rules.md)
* [åˆ›å»ºæ¸…æ™°çš„æ¥å£å±‚çº§ (Api)](docs/clear_api.md)
* [å…±å»º (Contribute)](docs/dev.md)
* [å¸¸è§é—®é¢˜ (QA)](docs/questions.md) old

## v1.x to v2.x

* [ä»1.xå‡çº§åˆ°2.x](docs/from_v1_to_v2.md)

## v1.x docs

`v1.0.2`ä¹‹å‰çš„åç§°ç©ºé—´ä¸º`NattyDB`ï¼Œå¯¹åº”çš„æ–‡æ¡£è¯·ç§»æ­¥[è¿™é‡Œ](https://github.com/Jias/natty-fetch/tree/v1.0.2)ã€‚

## Compatibility

* H5ç‰ˆæœ¬ï¼šiPhone4+ã€Android2.3+
* PCç‰ˆæœ¬ï¼šIE8+ã€Edgeã€Chromeã€Safariã€Firefox

## Get help

* é’‰é’‰è´¦å·ï¼šæ‹‚å±±
* å¾®ä¿¡è´¦å·ï¼šgnosaij

## Dev && Build

Nodeéœ€è¦7ä»¥ä¸Šçš„ç‰ˆæœ¬

```
å¯åŠ¨å¼€å‘ç¯å¢ƒ
$ npm install
$ npm start

æ„å»º
$ npm build
```


## Important References

* [Using CORS](http://www.html5rocks.com/en/tutorials/cors/) on html5rocks, very good!
* [Browser support for CORS](http://enable-cors.org/client.html)
* [XDomainRequest on MSDN](https://msdn.microsoft.com/en-us/library/cc288060(VS.85).aspx)